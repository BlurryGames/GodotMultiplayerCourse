[gd_scene load_steps=14 format=3 uid="uid://i4w7cenijf7x"]

[ext_resource type="Script" path="res://Scripts/Level.gd" id="1_3a0je"]
[ext_resource type="Texture2D" uid="uid://chwbcf7n2ajtp" path="res://art/platforms/Platformer_spritesheet.png" id="1_rop41"]
[ext_resource type="Texture2D" uid="uid://bja0wl8tcw71c" path="res://art/backgrounds/background_01.png" id="2_ohmjc"]
[ext_resource type="Texture2D" uid="uid://bujx43rcy5b85" path="res://art/backgrounds/background_02.png" id="3_4uv16"]
[ext_resource type="PackedScene" uid="uid://ck0an6lmghw31" path="res://Player/Player.tscn" id="4_2h2kv"]
[ext_resource type="PackedScene" uid="uid://wd4d2u8ns7fa" path="res://Interactables/PressurePlate/PressurePlate.tscn" id="6_jg5ar"]
[ext_resource type="PackedScene" uid="uid://cche0uwmp7tab" path="res://Interactables/Door/Door.tscn" id="7_ub5fc"]
[ext_resource type="PackedScene" uid="uid://dulf8gxrvu6st" path="res://Interactables/Chest/Chest.tscn" id="8_8rwno"]
[ext_resource type="PackedScene" uid="uid://cn7kia260vgxb" path="res://Interactables/KeyDoor/KeyDoor.tscn" id="9_qkjip"]
[ext_resource type="PackedScene" uid="uid://no1agibjbn0p" path="res://Interactables/Bridge/Bridge.tscn" id="10_lk5mp"]
[ext_resource type="PackedScene" uid="uid://dox1gus1ovntt" path="res://Interactables/PushableObject/PushableCrate.tscn" id="11_3owk2"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_cxdhn"]
texture = ExtResource("1_rop41")
texture_region_size = Vector2i(128, 128)
0:0/0 = 0
0:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:0/0/physics_layer_0/angular_velocity = 0.0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(64, -64, 64, 64, -64, 64)
1:0/0 = 0
1:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:0/0/physics_layer_0/angular_velocity = 0.0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:0/0 = 0
2:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:0/0/physics_layer_0/angular_velocity = 0.0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, 64, -64, 64)
3:0/0 = 0
3:0/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:0/0/physics_layer_0/angular_velocity = 0.0
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -11, 64, -64, -4)
0:1/0 = 0
0:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:1/0/physics_layer_0/angular_velocity = 0.0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
1:1/0 = 0
1:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:1/0/physics_layer_0/angular_velocity = 0.0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:1/0 = 0
2:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:1/0/physics_layer_0/angular_velocity = 0.0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:1/0 = 0
3:1/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:1/0/physics_layer_0/angular_velocity = 0.0
3:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, -6, 16, 64, -64, 64)
0:2/0 = 0
0:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:2/0/physics_layer_0/angular_velocity = 0.0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, -64, 64, -64, 64, 64, -33, 64)
1:2/0 = 0
1:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
1:2/0/physics_layer_0/angular_velocity = 0.0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
2:2/0 = 0
2:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
2:2/0/physics_layer_0/angular_velocity = 0.0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
3:2/0 = 0
3:2/0/physics_layer_0/linear_velocity = Vector2(0, 0)
3:2/0/physics_layer_0/angular_velocity = 0.0
3:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 64, -64, 64, 64, -64, 64)
0:3/0 = 0
0:3/0/physics_layer_0/linear_velocity = Vector2(0, 0)
0:3/0/physics_layer_0/angular_velocity = 0.0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-64, -64, 34, -64, 33, 64, -64, 64)

[sub_resource type="TileSet" id="TileSet_3wgsa"]
tile_size = Vector2i(128, 128)
physics_layer_0/collision_layer = 1
physics_layer_0/collision_mask = 0
sources/0 = SubResource("TileSetAtlasSource_cxdhn")

[node name="Level01" type="Node2D" node_paths=PackedStringArray("playersContainer", "spawnPoints")]
script = ExtResource("1_3a0je")
playerScene = ExtResource("4_2h2kv")
playersContainer = NodePath("---- Players ----/PlayersContainer")
spawnPoints = [NodePath("---- Players ----/SpawnPoint0"), NodePath("---- Players ----/SpawnPoint1")]

[node name="---- Environment ----" type="Node" parent="."]

[node name="TileMap" type="TileMap" parent="---- Environment ----"]
scale = Vector2(0.5, 0.5)
tile_set = SubResource("TileSet_3wgsa")
format = 2
layer_0/tile_data = PackedInt32Array(131072, 131072, 2, 131073, 131072, 2, 131074, 131072, 2, 131075, 131072, 2, 131076, 131072, 2, 131077, 131072, 2, 131078, 131072, 2, 131079, 131072, 2, 131080, 131072, 2, 65544, 0, 2, 8, 0, 2, -65528, 0, 2, -131064, 196608, 0, -131063, 65536, 0, -131062, 65536, 0, -131061, 65536, 0, -131060, 65536, 0, -65527, 65536, 1, -65526, 65536, 1, -65525, 65536, 1, -65524, 65536, 1, 12, 65536, 1, 11, 65536, 1, 10, 65536, 1, 9, 65536, 1, 65545, 65536, 1, 65546, 65536, 1, 65547, 65536, 1, 65548, 65536, 1, 196607, 131072, 2, 196606, 131072, 2, 196605, 131072, 2, 196604, 131072, 2, 196603, 131072, 2, 196602, 131072, 2, 196601, 131072, 2, 196600, 131072, 2, 196599, 131072, 2, 196598, 131072, 2, 196597, 131072, 2, 196596, 131072, 2, 196595, 131072, 2, 196594, 131072, 2, 196593, 131072, 2, 196592, 131072, 2, 131056, 0, 3, 65520, 0, 3, -16, 131072, 1, -65552, 0, 3, -131088, 0, 3, -196624, 0, 3, -262160, 0, 3, -15, 65536, 0, -14, 65536, 0, -13, 65536, 0, -12, 65536, 0, -11, 131072, 0, -131059, 131072, 0, -65522, 131072, 0, 15, 131072, 0, 65552, 131072, 0, -65523, 131072, 1, 14, 131072, 1, 65551, 131072, 1, 13, 65536, 1, 65549, 65536, 1, 65550, 65536, 1, 131081, 131072, 2, 131082, 131072, 2, 131083, 131072, 2, 131084, 131072, 2, 131085, 131072, 2, 131086, 131072, 2, 131087, 131072, 2, 131088, 131072, 2, 131089, 131072, 2, 131090, 131072, 2, 131091, 131072, 2, 131092, 131072, 2, 131093, 131072, 2, 131094, 131072, 2, 131095, 131072, 2, 131096, 131072, 2, 131097, 131072, 2, 131098, 131072, 2, 131099, 131072, 2, 131100, 131072, 2, 131101, 131072, 2, 131102, 131072, 2, 131103, 131072, 2, 131104, 131072, 2, 131105, 131072, 2, 65569, 0, 2, 33, 0, 2, -65503, 0, 2, -131039, 0, 2, -196575, 0, 1, -262111, 0, 2, -327647, 0, 2, -393183, 0, 2, -458719, 0, 2, -524255, 0, 2, -196576, 65536, 0, -196577, 65536, 0, -196578, 65536, 0, -196579, 196608, 0, -196591, 196608, 0, -196590, 65536, 0, -196589, 65536, 0, -196588, 196608, 1, -589791, 65536, 1, -589792, 65536, 1, -589793, 65536, 1, -589794, 65536, 1, -589795, 65536, 1, -589796, 65536, 1, -589797, 65536, 1, -589798, 65536, 1, -589799, 65536, 1, -589800, 65536, 1, -589801, 65536, 1, -589802, 65536, 1, -589803, 65536, 1, -589804, 65536, 1, -589805, 65536, 1, -589806, 65536, 1, -589807, 65536, 1, -589808, 65536, 1, -589809, 65536, 1, -589810, 65536, 1, -589811, 65536, 1, -589812, 65536, 1, -589813, 65536, 1, -589814, 65536, 1, -589815, 65536, 1, -589816, 65536, 1, -589817, 65536, 1, -589818, 65536, 1, -589819, 65536, 1, -589820, 65536, 1, -589821, 65536, 1, -589822, 65536, 1, -589823, 65536, 1, -589824, 65536, 1, -524289, 65536, 1, -524290, 65536, 1, -524291, 65536, 1, -524292, 65536, 1, -524293, 65536, 1, -524294, 65536, 1, -524295, 65536, 1, -524296, 65536, 1, -524297, 65536, 1, -524298, 65536, 1, -524299, 65536, 1, -524300, 65536, 1, -524301, 65536, 1, -524302, 65536, 1, -524303, 65536, 1, -524304, 65536, 1, -327696, 0, 3, -393232, 0, 3, -458768, 0, 3, -17, 65536, 1, -18, 65536, 1, -19, 65536, 1, -20, 65536, 1, -21, 65536, 1, -22, 65536, 1, -23, 65536, 1, -24, 65536, 1, 65519, 65536, 1, 131055, 65536, 1, 131054, 65536, 1, 131053, 65536, 1, 131052, 65536, 1, 131051, 65536, 1, 131050, 65536, 1, 131049, 65536, 1, 131048, 65536, 1, 65512, 65536, 1, 65513, 65536, 1, 65514, 65536, 1, 65515, 65536, 1, 65516, 65536, 1, 65517, 65536, 1, 65518, 65536, 1, 196591, 131072, 2, 196590, 131072, 2, 196589, 131072, 2, 196588, 131072, 2, 196587, 131072, 2, 196586, 131072, 2, 196585, 131072, 2, 196584, 131072, 2, 131106, 131072, 2, 131107, 131072, 2, 131108, 131072, 2, 131109, 131072, 2, 131110, 131072, 2, 131111, 131072, 2, 131112, 131072, 2, 131113, 131072, 2, 65570, 65536, 1, 34, 65536, 1, -65502, 65536, 1, -131038, 65536, 1, -196574, 65536, 1, -262110, 65536, 1, -327646, 65536, 1, -393182, 65536, 1, -458718, 65536, 1, -524254, 65536, 1, -589790, 65536, 1, -589789, 65536, 1, -589788, 65536, 1, -589787, 65536, 1, -589786, 65536, 1, -589785, 65536, 1, -589784, 65536, 1, -589783, 65536, 1, -524247, 65536, 1, -524248, 65536, 1, -524249, 65536, 1, -524250, 65536, 1, -524251, 65536, 1, -524252, 65536, 1, -524253, 65536, 1, -458717, 65536, 1, -458716, 65536, 1, -458715, 65536, 1, -458714, 65536, 1, -458713, 65536, 1, -458712, 65536, 1, -458711, 65536, 1, -393175, 65536, 1, -393176, 65536, 1, -393177, 65536, 1, -327642, 65536, 1, -327643, 65536, 1, -327644, 65536, 1, -327645, 65536, 1, -393181, 65536, 1, -393180, 65536, 1, -393179, 65536, 1, -393178, 65536, 1, -262109, 65536, 1, -196573, 65536, 1, -131037, 65536, 1, -65501, 65536, 1, 35, 65536, 1, 65571, 65536, 1, 65572, 65536, 1, 36, 65536, 1, -65500, 65536, 1, -131036, 65536, 1, -196572, 65536, 1, -262108, 65536, 1, -262107, 65536, 1, -196571, 65536, 1, -131035, 65536, 1, -65499, 65536, 1, 37, 65536, 1, 65573, 65536, 1, 65574, 65536, 1, 38, 65536, 1, -65498, 65536, 1, -131034, 65536, 1, -196570, 65536, 1, -262106, 65536, 1, -327641, 65536, 1, -262105, 65536, 1, -196569, 65536, 1, -131033, 65536, 1, -65497, 65536, 1, 39, 65536, 1, 65575, 65536, 1, 65576, 65536, 1, 40, 65536, 1, -65496, 65536, 1, -131032, 65536, 1, -196568, 65536, 1, -262104, 65536, 1, -327640, 65536, 1, -327639, 65536, 1, -262103, 65536, 1, -196567, 65536, 1, -131031, 65536, 1, -65495, 65536, 1, 41, 65536, 1, 65577, 65536, 1, -65560, 65536, 1, -131096, 65536, 1, -196632, 65536, 1, -262168, 65536, 1, -327704, 65536, 1, -393240, 65536, 1, -393239, 65536, 1, -458775, 65536, 1, -458776, 65536, 1, -524312, 65536, 1, -524311, 65536, 1, -524310, 65536, 1, -524309, 65536, 1, -524308, 65536, 1, -524307, 65536, 1, -524306, 65536, 1, -524305, 65536, 1, -458769, 65536, 1, -458770, 65536, 1, -458771, 65536, 1, -458772, 65536, 1, -458773, 65536, 1, -458774, 65536, 1, -393238, 65536, 1, -393237, 65536, 1, -393236, 65536, 1, -393235, 65536, 1, -393234, 65536, 1, -393233, 65536, 1, -327697, 65536, 1, -327698, 65536, 1, -327699, 65536, 1, -327700, 65536, 1, -327701, 65536, 1, -327702, 65536, 1, -327703, 65536, 1, -262167, 65536, 1, -262166, 65536, 1, -262165, 65536, 1, -262164, 65536, 1, -262163, 65536, 1, -262162, 65536, 1, -262161, 65536, 1, -196625, 65536, 1, -196626, 65536, 1, -196627, 65536, 1, -196628, 65536, 1, -196629, 65536, 1, -196630, 65536, 1, -196631, 65536, 1, -131095, 65536, 1, -131094, 65536, 1, -131093, 65536, 1, -131092, 65536, 1, -131091, 65536, 1, -131090, 65536, 1, -131089, 65536, 1, -65553, 65536, 1, -65554, 65536, 1, -65555, 65536, 1, -65556, 65536, 1, -65557, 65536, 1, -65558, 65536, 1, -65559, 65536, 1)

[node name="ParallaxBackground" type="ParallaxBackground" parent="---- Environment ----"]
offset = Vector2(0, -560)
transform = Transform2D(1, 0, 0, 1, 0, -560)

[node name="ParallaxTrees" type="ParallaxLayer" parent="---- Environment ----/ParallaxBackground"]
motion_scale = Vector2(0.25, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundTrees" type="Sprite2D" parent="---- Environment ----/ParallaxBackground/ParallaxTrees"]
texture = ExtResource("2_ohmjc")
centered = false

[node name="ParallaxHouses" type="ParallaxLayer" parent="---- Environment ----/ParallaxBackground"]
motion_scale = Vector2(0.5, 1)
motion_mirroring = Vector2(1334, 0)

[node name="BackgroundHouses" type="Sprite2D" parent="---- Environment ----/ParallaxBackground/ParallaxHouses"]
texture = ExtResource("3_4uv16")
centered = false

[node name="---- Interactables ----" type="Node" parent="."]

[node name="DoorPlate" parent="---- Interactables ----" instance=ExtResource("6_jg5ar")]
position = Vector2(-936, -68)

[node name="Door" parent="---- Interactables ----" instance=ExtResource("7_ub5fc")]
position = Vector2(-645, 130)

[node name="Chest" parent="---- Interactables ----" instance=ExtResource("8_8rwno")]
position = Vector2(-944, 130)
scale = Vector2(-1, 1)

[node name="KeyDoor" parent="---- Interactables ----" instance=ExtResource("9_qkjip")]
position = Vector2(2070, -191)

[node name="BridgePlate1" parent="---- Interactables ----" instance=ExtResource("6_jg5ar")]
position = Vector2(1149, -197)

[node name="BridgePlate2" parent="---- Interactables ----" instance=ExtResource("6_jg5ar")]
position = Vector2(1295, -197)

[node name="Bridge" parent="---- Interactables ----" instance=ExtResource("10_lk5mp")]
position = Vector2(1608, -153)

[node name="PushableCrate" parent="---- Interactables ----" instance=ExtResource("11_3owk2")]
position = Vector2(607, -193)

[node name="---- Players ----" type="Node" parent="."]

[node name="PlayersContainer" type="Node2D" parent="---- Players ----"]

[node name="PlayerSpawner" type="MultiplayerSpawner" parent="---- Players ----"]
_spawnable_scenes = PackedStringArray("res://Player/Player.tscn")
spawn_path = NodePath("../PlayersContainer")
spawn_limit = 2

[node name="SpawnPoint0" type="Node2D" parent="---- Players ----"]
position = Vector2(93, 113)

[node name="SpawnPoint1" type="Node2D" parent="---- Players ----"]
position = Vector2(268, 118)

[connection signal="toggle" from="---- Interactables ----/DoorPlate" to="---- Interactables ----/Door" method="activate"]
[connection signal="toggle" from="---- Interactables ----/BridgePlate1" to="---- Interactables ----/Bridge" method="activate"]
[connection signal="toggle" from="---- Interactables ----/BridgePlate2" to="---- Interactables ----/Bridge" method="activate"]
